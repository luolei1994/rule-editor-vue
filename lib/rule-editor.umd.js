(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue")):typeof define=="function"&&define.amd?define(["vue"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.RuleEditor=d(e.Vue))})(this,function(e){"use strict";function d(t,o){for(let n=0;n<t.length;n++)if(t[n].value===o)return t[n].label}const _=[{label:"并且",value:1},{label:"或者",value:2}],f=t=>(e.pushScopeId("data-v-6aacbc41"),t=t(),e.popScopeId(),t),u={class:"single-rule"},h={class:"if-content"},C=f(()=>e.createElementVNode("div",{class:"common-title"},"如果",-1)),k={class:"content"},V={key:0,class:"line"},B={class:"condition-container"},N={key:0,class:"condition-border-left"},E={class:"condition-content"},w={class:"condition"},g=e.defineComponent({__name:"SingleRule",props:{modelValue:{type:Object,required:!0},isRoot:{type:Boolean,required:!1,default:!0}},emits:["on-delete"],setup(t,{emit:o}){const n=t;let l=e.ref(n.modelValue);const c={label:"",value:""};let a=_.map(s=>({label:s.label,handleClick:()=>{l.value.ifData.keyword=s.value}}));const q=[{label:"添加条件",handleClick:F,attrs:{divided:!0}},{label:"添加联合条件",handleClick:O}];a=a.concat(q),n.isRoot||a.push({label:"删除",handleClick:()=>{o("on-delete")}});let i=e.ref([]);function F(){i.value.push({modelValue:null,type:null})}function O(){}return(s,W)=>{const L=e.resolveComponent("Text"),m=e.resolveComponent("Button"),U=e.resolveComponent("Icon"),j=e.resolveComponent("DropdownItem"),G=e.resolveComponent("DropdownMenu"),M=e.resolveComponent("Dropdown"),P=e.resolveComponent("ButtonGroup"),z=e.resolveComponent("Cascader"),A=e.resolveDirective("width");return e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("div",h,[C,e.createElementVNode("div",k,[e.createVNode(P,{class:"if-content-button-group"},{default:e.withCtx(()=>[e.createVNode(m,null,{default:e.withCtx(()=>[e.createVNode(L,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(d)(e.unref(_),e.unref(l).ifData.keyword)),1)]),_:1})]),_:1}),e.createVNode(m,{class:"if-content-button"},{default:e.withCtx(()=>[e.createVNode(M,{trigger:"hover"},{list:e.withCtx(()=>[e.createVNode(G,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),r=>(e.openBlock(),e.createBlock(j,e.mergeProps(r.attrs,{onClick:r.handleClick}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.label),1)]),_:2},1040,["onClick"]))),256))]),_:1})]),default:e.withCtx(()=>[e.createVNode(U,{size:"25",type:"ios-more"})]),_:1})]),_:1})]),_:1}),e.unref(i).length?(e.openBlock(),e.createElementBlock("div",V)):e.createCommentVNode("",!0),e.createElementVNode("div",B,[e.unref(i).length>1?(e.openBlock(),e.createElementBlock("div",N)):e.createCommentVNode("",!0),e.createElementVNode("div",E,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),r=>(e.openBlock(),e.createElementBlock("div",w,[e.withDirectives(e.createVNode(z,{data:c,modelValue:r.modelValue,"onUpdate:modelValue":H=>r.modelValue=H},null,8,["modelValue","onUpdate:modelValue"]),[[A,200]])]))),256))])])])])])}}}),J="",p=(t,o)=>{const n=t.__vccOpts||t;for(const[l,c]of o)n[l]=c;return n},y=p(g,[["__scopeId","data-v-6aacbc41"]]),b={class:"rule-editor"},D={class:"rule-editor-container"},x={class:"rule-editor-main"},R={key:0,class:"rule-editor-title"},I={class:"rule-editor-content"},S={key:0,class:"rule-editor-form"},T=e.defineComponent({__name:"RuleEditor",props:{title:{type:[String,Boolean],required:!1,default:t=>{let o=t.title;return!o&&o!==!1&&(o="规则编辑器"),o}},showForm:{type:Boolean,required:!1,default:!0},config:{type:Object,required:!1,default:t=>t||{ruleName:"",isPublic:!1,isLoop:!0}}},setup(t){let o=e.ref({ifData:{keyword:1}});return(n,l)=>(e.openBlock(),e.createElementBlock("div",b,[e.createElementVNode("div",D,[e.createElementVNode("div",x,[t.title?(e.openBlock(),e.createElementBlock("div",R,e.toDisplayString(t.title),1)):e.createCommentVNode("",!0),e.createElementVNode("div",I,[e.createVNode(y,{modelValue:e.unref(o),"onUpdate:modelValue":l[0]||(l[0]=c=>e.isRef(o)?o.value=c:o=c)},null,8,["modelValue"])])]),t.showForm?(e.openBlock(),e.createElementBlock("div",S,[e.renderSlot(n.$slots,"ruleForm",{},void 0,!0)])):e.createCommentVNode("",!0)])]))}}),K="",$=p(T,[["__scopeId","data-v-e31215ef"]]);return{install:(t,o)=>{t.component("RuleEditor",$)}}});
